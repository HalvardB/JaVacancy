<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>JaVacancy</title>
    <link type="text/css" rel="stylesheet" href="Style.css">
</head>
<body>
    <div th:replace="templates :: logo"></div>

    <div class="content">
        <div id="searchDiv">
            <form th:action="'/'" method="post" th:object="${search}" id="searchForm">
                <input type="text" name="title" th:field="*{searchText}" placeholder="Search for vacancies" id="searchTextField" autofocus>
                <input type="submit" value="Search" class="submittButton">
            </form>
        </div>

<!--            <div class="menuDivs location">-->
<!--&lt;!&ndash;                <div th:if="${searchBar != null && vacancyList.size() != 0}">&ndash;&gt;-->
<!--&lt;!&ndash;                <p th:text="${vacancyList.size()} + ' results for: ' + ${searchBar}"></p>&ndash;&gt;-->
<!--&lt;!&ndash;                <a href="/" >Remove filter</a>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <a href="/location?location=Oslo" >Oslo</a>&ndash;&gt;-->
<!--&lt;!&ndash;                <a href="/location?location=Bergen" >Bergen</a>&ndash;&gt;-->
<!--&lt;!&ndash;                <a href="/location?location=Trondheim" >Trondheim</a>&ndash;&gt;-->
<!--&lt;!&ndash;                <a href="/location?location=Stavanger" >Stavanger</a>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->

<!--&lt;!&ndash;            <div class="menuDivs salary">&ndash;&gt;-->
<!--&lt;!&ndash;                <a href="/salary?salaryRange=0-499999" >0-500k</a>&ndash;&gt;-->
<!--&lt;!&ndash;                <a href="/salary?salaryRange=500000-749999" >500k-749k</a>&ndash;&gt;-->
<!--&lt;!&ndash;                <a href="/salary?salaryRange=749000-899999" >750k-899k</a>&ndash;&gt;-->
<!--&lt;!&ndash;                <a href="/salary?salaryRange=900000-4000000" >900k+</a>&ndash;&gt;-->
<!--             </div>-->

        <div id="filterButtons">
            <div>
                <span th:each="location : ${T(com.example.javacancy.Location).values()}"  class="menuDivs location">
                    <a  th:if="${location.toString() == lastLocationSearch}" th:value="${location}" th:text="${location}" th:href="'/location?location=' + ${location}" style="background-color: orange" class="activeButton"></a>
                    <a th:if="${location.toString() != lastLocationSearch}" th:value="${location}" th:text="${location}" th:href="'/location?location=' + ${location}"></a>
                </span>
            </div>

            <div>
                <span th:each="salary : ${T(com.example.javacancy.Salary).values()}"  class="menuDivs salary">
                    <a  th:if="${salary.toString() == lastSalarySearch}" th:value="${salary}" th:text="${salary}" th:href="'/salary?salaryRange=' + ${salary}" style="background-color: orange" class="activeButton"></a>
                    <a th:if="${salary.toString() != lastSalarySearch}" th:value="${salary}" th:text="${salary}" th:href="'/salary?salaryRange=' + ${salary}"></a>
                </span>
            </div>

            <div>
                <span th:each="experience : ${T(com.example.javacancy.Experience).values()}"  class="menuDivs experience">
                    <a  th:if="${experience.toString() == lastExperienceSearch}" th:value="${experience}" th:text="${experience}" th:href="'/experience?experienceLevel=' + ${experience}" style="background-color: orange" class="activeButton"></a>
                    <a th:if="${experience.toString() != lastExperienceSearch}" th:value="${experience}" th:text="${experience}" th:href="'/experience?experienceLevel=' + ${experience}"></a>
                </span>
            </div>

        </div>

        <div class="searchResultMenu">
            <div th:if="${searchBar != null && vacancyList.size() != 0}">
                <p th:text="${vacancyList.size()} + ' results for: ' + ${searchBar}"></p>
                <a href="/" >Remove filter</a>
            </div>
            <div th:if="${vacancyList.size() == 0}">
                <p th:text="'Whoopsie! There are no jobs that match your search...️ 🤷‍♂️'"️></p>
                <a href="/">Remove filter</a>
            </div>
            <div th:if="${isFilterOn}">
                <a href="/">Remove filter</a>
            </div>
        </div>
        <hr>

        <!--    Print job vacancies -->
        <div th:each="job : ${vacancyList}">
            <a th:text="${job.getJobTitle()}" th:href="'/vacancy/'+${job.getJobId()}"></a>
            <p th:text="${job.getCompanyName()}"></p>
            <p th:text="'Relevance score: ' + ${job.getSearchRelevance()}"></p>
            <hr>
        </div>

        <div class="menuDivs addVacancy">
            <a href="/add" >Add vacancy</a>
        </div>
    </div>

    <div th:replace="templates :: footer"></div>
</body>
</html>